
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>数据准备 &#8212; Financial Simulation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Calibration/3.DataPrepare';</script>
    <link rel="icon" href="../_static/logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="NewLOB模型" href="4.NewLOB.html" />
    <link rel="prev" title="项目介绍" href="2.EnvPrepare.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../README.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.jpg" class="logo__image only-light" alt="Financial Simulation - Home"/>
    <script>document.write(`<img src="../_static/logo.jpg" class="logo__image only-dark" alt="Financial Simulation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    Financial Simulation
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">金融数据校准</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="0.Problems.html">SimLOB中存在的问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="1.NewLOB.html">NewLOB</a></li>
<li class="toctree-l1"><a class="reference internal" href="2.EnvPrepare.html">项目介绍</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">数据准备</a></li>

<li class="toctree-l1"><a class="reference internal" href="4.NewLOB.html">NewLOB模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="5.Visualization.html">网络模型可视化</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">技术细节</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Implemention/data_gen.html">Simulation Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Implemention/module_info.html">模块信息</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">相关研究</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Others/sbi.html">基于模拟的推理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Others/vol_pred.html">价量预测</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Others/normal_flows.html">正则化流</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Wiki</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Wiki/financial_words.html">限价订单簿</a></li>

<li class="toctree-l1"><a class="reference internal" href="../Wiki/cs_words.html">模拟器</a></li>


</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">参考文献</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Bib/reference.html">参考文献</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/mythezone/fin-document" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/mythezone/fin-document/issues/new?title=Issue%20on%20page%20%2FCalibration/3.DataPrepare.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Calibration/3.DataPrepare.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>数据准备</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">数据准备</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">金融数据（限价订单簿）</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">金融数据格式说明</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">列说明</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">数据示例</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">仿真数据</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#xml">XML配置文件</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">训练数据准备</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">批量生成仿真数据</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#simulation-database">Simulation Database</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#persist-simulated-data">Persist Simulated Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manual">Manual</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-start">Quick Start</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-mongodb">1. Setup MongoDB</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#customize-configuration">2. Customize Configuration</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#build-maxe">3. Build Maxe</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#call-the-method">4. Call the Method</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#database">Database</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-of-the-document-in-the-collection">Sample of the document in the Collection</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#machanism">Machanism</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-features">New Features</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-generation">1. Data Generation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logging">2. Logging</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">3. Database</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="id1">
<h1>数据准备<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<section id="id2">
<h2>金融数据（限价订单簿）<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<p>关于LOB的详细说明可以参考<a class="reference internal" href="../Wiki/financial_words.html#lob-define"><span class="std std-ref">LOB (Limit Order Book)</span></a>.</p>
<section id="id3">
<h3>金融数据格式说明<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p>该金融数据集记录了特定时间点的市场交易信息，并以 CSV 格式存储。每行代表一个时间点的数据快照，包含买卖报价、交易量等重要信息。CSV 文件的列格式如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">time</span><span class="p">,</span>
<span class="n">bestAskPrice1</span><span class="p">,</span><span class="n">bestBidPrice1</span><span class="p">,</span><span class="n">AskVolume1</span><span class="p">,</span><span class="n">BidVolume1</span><span class="p">,</span>
<span class="n">AskPrice2</span><span class="p">,</span><span class="n">BidPrice2</span><span class="p">,</span><span class="n">AskVolume2</span><span class="p">,</span><span class="n">BidVolume2</span><span class="p">,</span>
<span class="n">AskPrice3</span><span class="p">,</span><span class="n">BidPrice3</span><span class="p">,</span><span class="n">AskVolume3</span><span class="p">,</span><span class="n">BidVolume3</span><span class="p">,</span>
<span class="n">AskPrice4</span><span class="p">,</span><span class="n">BidPrice4</span><span class="p">,</span><span class="n">AskVolume4</span><span class="p">,</span><span class="n">BidVolume4</span><span class="p">,</span>
<span class="n">AskPrice5</span><span class="p">,</span><span class="n">BidPrice5</span><span class="p">,</span><span class="n">AskVolume5</span><span class="p">,</span><span class="n">BidVolume5</span><span class="p">,</span>
<span class="n">AskPrice6</span><span class="p">,</span><span class="n">BidPrice6</span><span class="p">,</span><span class="n">AskVolume6</span><span class="p">,</span><span class="n">BidVolume6</span><span class="p">,</span>
<span class="n">AskPrice7</span><span class="p">,</span><span class="n">BidPrice7</span><span class="p">,</span><span class="n">AskVolume7</span><span class="p">,</span><span class="n">BidVolume7</span><span class="p">,</span>
<span class="n">AskPrice8</span><span class="p">,</span><span class="n">BidPrice8</span><span class="p">,</span><span class="n">AskVolume8</span><span class="p">,</span><span class="n">BidVolume8</span><span class="p">,</span>
<span class="n">AskPrice9</span><span class="p">,</span><span class="n">BidPrice9</span><span class="p">,</span><span class="n">AskVolume9</span><span class="p">,</span><span class="n">BidVolume9</span><span class="p">,</span>
<span class="n">AskPrice10</span><span class="p">,</span><span class="n">BidPrice10</span><span class="p">,</span><span class="n">AskVolume10</span><span class="p">,</span><span class="n">BidVolume10</span>
<span class="p">]</span>
</pre></div>
</div>
<section id="id4">
<h4>列说明<a class="headerlink" href="#id4" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p><strong>time</strong>：记录数据的时间点，格式为 “YYYY-MM-DD HH:MM:SS”。</p></li>
<li><p><strong>bestAskPrice1</strong>：最佳卖价1，即当前市场中最低的卖出价格。</p></li>
<li><p><strong>bestBidPrice1</strong>：最佳买价1，即当前市场中最高的买入价格。</p></li>
<li><p><strong>AskVolume1</strong>：最佳卖价1对应的卖出量。</p></li>
<li><p><strong>BidVolume1</strong>：最佳买价1对应的买入量。</p></li>
<li><p><strong>AskPrice2, BidPrice2, AskVolume2, BidVolume2</strong>：次最佳买卖价及对应的交易量，以此类推，最多记录到第10档买卖价及其对应的交易量。</p></li>
</ul>
</section>
<section id="id5">
<h4>数据示例<a class="headerlink" href="#id5" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2019</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">14</span> <span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span><span class="mf">1244.0</span><span class="p">,</span><span class="mf">1243.0</span><span class="p">,</span><span class="mf">765.0</span><span class="p">,</span><span class="mf">846.0</span><span class="p">,</span><span class="mf">1245.0</span><span class="p">,</span><span class="mf">1242.0</span><span class="p">,</span><span class="mf">1645.0</span><span class="p">,</span><span class="mf">288.0</span><span class="p">,</span><span class="mf">1246.0</span><span class="p">,</span><span class="mf">1241.0</span><span class="p">,</span><span class="mf">2410.0</span><span class="p">,</span><span class="mf">1259.0</span><span class="p">,</span><span class="mf">1247.0</span><span class="p">,</span><span class="mf">1240.0</span><span class="p">,</span><span class="mf">2646.0</span><span class="p">,</span><span class="mf">4509.0</span><span class="p">,</span><span class="mf">1248.0</span><span class="p">,</span><span class="mf">1239.0</span><span class="p">,</span><span class="mf">3595.0</span><span class="p">,</span><span class="mf">773.0</span><span class="p">,</span><span class="mf">1249.0</span><span class="p">,</span><span class="mf">1238.0</span><span class="p">,</span><span class="mf">4935.0</span><span class="p">,</span><span class="mf">923.0</span><span class="p">,</span><span class="mf">1250.0</span><span class="p">,</span><span class="mf">1237.0</span><span class="p">,</span><span class="mf">5560.0</span><span class="p">,</span><span class="mf">1566.0</span><span class="p">,</span><span class="mf">1251.0</span><span class="p">,</span><span class="mf">1236.0</span><span class="p">,</span><span class="mf">1030.0</span><span class="p">,</span><span class="mf">932.0</span><span class="p">,</span><span class="mf">1252.0</span><span class="p">,</span><span class="mf">1235.0</span><span class="p">,</span><span class="mf">1728.0</span><span class="p">,</span><span class="mf">908.0</span><span class="p">,</span><span class="mf">1253.0</span><span class="p">,</span><span class="mf">1234.0</span><span class="p">,</span><span class="mf">3580.0</span><span class="p">,</span><span class="mf">160.0</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">14</span> <span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">03</span><span class="p">,</span><span class="mf">1244.0</span><span class="p">,</span><span class="mf">1243.0</span><span class="p">,</span><span class="mf">694.0</span><span class="p">,</span><span class="mf">898.0</span><span class="p">,</span><span class="mf">1245.0</span><span class="p">,</span><span class="mf">1242.0</span><span class="p">,</span><span class="mf">1655.0</span><span class="p">,</span><span class="mf">303.0</span><span class="p">,</span><span class="mf">1246.0</span><span class="p">,</span><span class="mf">1241.0</span><span class="p">,</span><span class="mf">2410.0</span><span class="p">,</span><span class="mf">1359.0</span><span class="p">,</span><span class="mf">1247.0</span><span class="p">,</span><span class="mf">1240.0</span><span class="p">,</span><span class="mf">2646.0</span><span class="p">,</span><span class="mf">4509.0</span><span class="p">,</span><span class="mf">1248.0</span><span class="p">,</span><span class="mf">1239.0</span><span class="p">,</span><span class="mf">3595.0</span><span class="p">,</span><span class="mf">773.0</span><span class="p">,</span><span class="mf">1249.0</span><span class="p">,</span><span class="mf">1238.0</span><span class="p">,</span><span class="mf">4935.0</span><span class="p">,</span><span class="mf">923.0</span><span class="p">,</span><span class="mf">1250.0</span><span class="p">,</span><span class="mf">1237.0</span><span class="p">,</span><span class="mf">5543.0</span><span class="p">,</span><span class="mf">1566.0</span><span class="p">,</span><span class="mf">1251.0</span><span class="p">,</span><span class="mf">1236.0</span><span class="p">,</span><span class="mf">1030.0</span><span class="p">,</span><span class="mf">932.0</span><span class="p">,</span><span class="mf">1252.0</span><span class="p">,</span><span class="mf">1235.0</span><span class="p">,</span><span class="mf">1728.0</span><span class="p">,</span><span class="mf">898.0</span><span class="p">,</span><span class="mf">1253.0</span><span class="p">,</span><span class="mf">1234.0</span><span class="p">,</span><span class="mf">3588.0</span><span class="p">,</span><span class="mf">160.0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>每行数据从时间戳开始，紧接着是十档买卖价和对应的交易量。</p></li>
<li><p>买卖价数据以 “AskPriceN” 和 “BidPriceN” 命名，交易量数据以 “AskVolumeN” 和 “BidVolumeN” 命名，其中 N 代表第 N 档价格和交易量。</p></li>
<li><p>此数据格式适用于金融市场分析和交易策略研究，可以帮助分析买卖盘的变化及市场深度。</p></li>
</ul>
</div>
</section>
</section>
<section id="id6">
<h3>仿真数据<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p>金融数据通过maxe编译的TheSimulator<a class="reference internal" href="2.EnvPrepare.html#thesimulator"><span class="std std-ref">Build TheSimulator</span></a>产生，本实验使用的是PGPS模型<span id="id7">[<a class="reference internal" href="../Bib/reference.html#id3" title="T. Preis, S. Golke, W. Paul, and J. J. Schneider. Multi-agent-based order book model of financial markets. Europhysics Letters, 75(3):510, July 2006. doi:10.1209/epl/i2006-10139-0.">T. Preis <em>et al.</em>, 2006</a>]</span>.可以通过编辑<code class="docutils literal notranslate"><span class="pre">xml</span></code>文件指定<code class="docutils literal notranslate"><span class="pre">TheSimulator</span></code>模型运行参数来获得基于PGPS模型运行的模拟结果。</p>
<p>其中可以控制的参数如下：</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Para.</p></th>
<th class="head"><p>Range</p></th>
<th class="head"><p>Remarks</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>λ0</p></td>
<td><p>[1, 200]</p></td>
<td><p>Controlling the price of each limited order.</p></td>
</tr>
<tr class="row-odd"><td><p>Cλ</p></td>
<td><p>[1, 20]</p></td>
<td><p>Controlling the price of each limited order.</p></td>
</tr>
<tr class="row-even"><td><p>∆S</p></td>
<td><p>[0.0005, 0.003]</p></td>
<td><p>Controlling the probability of the side of a market order (ask or bid).</p></td>
</tr>
<tr class="row-odd"><td><p>α</p></td>
<td><p>[0.05, 0.45]</p></td>
<td><p>The probability for each liquidity provider to submit a limited order.</p></td>
</tr>
<tr class="row-even"><td><p>μ</p></td>
<td><p>[0.005, 0.085]</p></td>
<td><p>The probability for each liquidity taker to submit a market order.</p></td>
</tr>
<tr class="row-odd"><td><p>δ</p></td>
<td><p>[0.005, 0.05]</p></td>
<td><p>The probability for each liquidity taker to cancel an untraded order.</p></td>
</tr>
</tbody>
</table>
</div>
<section id="xml">
<span id="xml-file"></span><h4>XML配置文件<a class="headerlink" href="#xml" title="Link to this heading">#</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">TestExample_LL.xml</span></code>文件内容如下，你可以在里面找到表格中对应的参数，通过修改这些值，并使用<code class="docutils literal notranslate"><span class="pre">TheSimulator</span></code>运行该配置文件，就能获得对应参数下的一次运行结果，输出文件格式为csv格式，记录了10档买卖价量和交易时间，共41列，生成数据的行数可以通过配置文件中的duration参数指定。</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Simulation</span><span class="w"> </span><span class="na">start=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">duration=</span><span class="s">&quot;3600&quot;</span><span class="w"> </span><span class="na">lambda_init=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">increment=</span><span class="s">&quot;0.001&quot;</span><span class="w"> </span><span class="na">c_lambda=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;ExchangeAgent</span>
<span class="w">        </span><span class="na">name=</span><span class="s">&quot;EXCHANGE&quot;</span>
<span class="w">        </span><span class="na">algorithm=</span><span class="s">&quot;PriceTime&quot;</span>
<span class="w">        </span><span class="na">tradeoutputFile=</span><span class="s">&quot;trade/trade_test.csv&quot;</span>
<span class="w">    </span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="nt">&lt;SetupAgent</span><span class="w">         </span>
<span class="w">        </span><span class="na">name=</span><span class="s">&quot;Setup_Agent_1&quot;</span><span class="w">      </span>
<span class="w">        </span><span class="na">exchange=</span><span class="s">&quot;EXCHANGE&quot;</span><span class="w">               </span>

<span class="w">        </span><span class="na">setupTime=</span><span class="s">&quot;0.000001&quot;</span>
<span class="w">        </span><span class="na">bidVolume=</span><span class="s">&quot;10&quot;</span>
<span class="w">        </span><span class="na">askVolume=</span><span class="s">&quot;10&quot;</span>
<span class="w">        </span><span class="na">bidPrice=</span><span class="s">&quot;7514.9&quot;</span>
<span class="w">        </span><span class="na">askPrice=</span><span class="s">&quot;7516.1&quot;</span>
<span class="w">    </span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="nt">&lt;Generator</span><span class="w"> </span><span class="na">count=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;LiquidityProvider</span>
<span class="w">            </span><span class="na">name=</span><span class="s">&quot;Liquidity_Provider&quot;</span>
<span class="w">            </span><span class="na">exchange=</span><span class="s">&quot;EXCHANGE&quot;</span>

<span class="w">            </span><span class="na">delta=</span><span class="s">&quot;0.025&quot;</span>
<span class="w">            </span><span class="na">frequency=</span><span class="s">&quot;0.15&quot;</span>
<span class="w">        </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/Generator&gt;</span>

<span class="w">    </span><span class="nt">&lt;Generator</span><span class="w"> </span><span class="na">count=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;LiquidityTaker</span>
<span class="w">            </span><span class="na">name=</span><span class="s">&quot;Liquidity_Taker&quot;</span>
<span class="w">            </span><span class="na">exchange=</span><span class="s">&quot;EXCHANGE&quot;</span>

<span class="w">            </span><span class="na">frequency=</span><span class="s">&quot;0.025&quot;</span>
<span class="w">        </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/Generator&gt;</span>


<span class="w">    </span><span class="nt">&lt;L1LogAgent</span>
<span class="w">        </span><span class="na">name=</span><span class="s">&quot;L1_LOGGER&quot;</span>
<span class="w">        </span><span class="na">exchange=</span><span class="s">&quot;EXCHANGE&quot;</span>
<span class="w">        </span><span class="na">outputFile=</span><span class="s">&quot;log/3600_25_2.csv&quot;</span>
<span class="w">    </span><span class="nt">/&gt;</span>
<span class="w">    </span>
<span class="nt">&lt;/Simulation&gt;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">outputFile</span></code> 指定的路径必须已经存在，否则保存文件会失败。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">duration</span></code> 的行数计算包含输出文件的标题，因此如果需要输出3600行数据，该值需要设置为3601。</p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>可以通过项目代码中的<code class="docutils literal notranslate"><span class="pre">update_xml</span></code>方法方便的更新该配置文件中的参数。</p>
</div>
</section>
</section>
<section id="id8">
<h3>训练数据准备<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<section id="id9">
<h4>批量生成仿真数据<a class="headerlink" href="#id9" title="Link to this heading">#</a></h4>
<p>用于生成仿真数据的参数数据记录在<code class="docutils literal notranslate"><span class="pre">data/meta/coef_table.csv</span></code>表中。数据格式如下所示（共1000行数据，记录了不同的参数组合）：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">id</span><span class="p">,</span><span class="n">lambda_init</span><span class="p">,</span><span class="n">clambda</span><span class="p">,</span><span class="n">frequency1</span><span class="p">,</span><span class="n">frequency2</span><span class="p">,</span><span class="n">increment</span><span class="p">,</span><span class="n">delta</span>
<span class="mi">0</span><span class="p">,</span><span class="mf">193.32</span><span class="p">,</span><span class="mf">3.47</span><span class="p">,</span><span class="mf">0.2962</span><span class="p">,</span><span class="mf">0.01853</span><span class="p">,</span><span class="mf">0.0015</span><span class="p">,</span><span class="mf">0.02909</span>
<span class="mi">1</span><span class="p">,</span><span class="mf">88.71</span><span class="p">,</span><span class="mf">11.8</span><span class="p">,</span><span class="mf">0.3091</span><span class="p">,</span><span class="mf">0.0199</span><span class="p">,</span><span class="mf">0.00293</span><span class="p">,</span><span class="mf">0.04749</span>
<span class="mi">2</span><span class="p">,</span><span class="mf">77.49</span><span class="p">,</span><span class="mf">7.62</span><span class="p">,</span><span class="mf">0.7369</span><span class="p">,</span><span class="mf">0.05814</span><span class="p">,</span><span class="mf">0.00084</span><span class="p">,</span><span class="mf">0.00559</span>
<span class="mi">3</span><span class="p">,</span><span class="mf">182.28</span><span class="p">,</span><span class="mf">6.99</span><span class="p">,</span><span class="mf">0.13</span><span class="p">,</span><span class="mf">0.05814</span><span class="p">,</span><span class="mf">0.00084</span><span class="p">,</span><span class="mf">0.00559</span>
<span class="mi">4</span><span class="p">,</span><span class="mf">187.91</span><span class="p">,</span><span class="mf">9.54</span><span class="p">,</span><span class="mf">0.4411</span><span class="p">,</span><span class="mf">0.08443</span><span class="p">,</span><span class="mf">0.0015</span><span class="p">,</span><span class="mf">0.029</span>
<span class="mi">5</span><span class="p">,</span><span class="mf">116.86</span><span class="p">,</span><span class="mf">5.52</span><span class="p">,</span><span class="mf">0.0666</span><span class="p">,</span><span class="mf">0.04586</span><span class="p">,</span><span class="mf">0.00244</span><span class="p">,</span><span class="mf">0.01018</span>
<span class="mi">6</span><span class="p">,</span><span class="mf">134.64</span><span class="p">,</span><span class="mf">15.45</span><span class="p">,</span><span class="mf">0.3275</span><span class="p">,</span><span class="mf">0.07116</span><span class="p">,</span><span class="mf">0.00199</span><span class="p">,</span><span class="mf">0.03238</span>
<span class="mi">7</span><span class="p">,</span><span class="mf">17.7</span><span class="p">,</span><span class="mf">11.36</span><span class="p">,</span><span class="mf">0.2639</span><span class="p">,</span><span class="mf">0.06703</span><span class="p">,</span><span class="mf">0.00066</span><span class="p">,</span><span class="mf">0.03644</span>
<span class="mi">8</span><span class="p">,</span><span class="mf">153.53</span><span class="p">,</span><span class="mf">9.27</span><span class="p">,</span><span class="mf">0.2983</span><span class="p">,</span><span class="mf">0.07343</span><span class="p">,</span><span class="mf">0.00238</span><span class="p">,</span><span class="mf">0.01278</span>
<span class="mi">9</span><span class="p">,</span><span class="mf">48.13</span><span class="p">,</span><span class="mf">3.54</span><span class="p">,</span><span class="mf">0.4374</span><span class="p">,</span><span class="mf">0.02645</span><span class="p">,</span><span class="mf">0.00077</span><span class="p">,</span><span class="mf">0.01674</span>
<span class="mi">10</span><span class="p">,</span><span class="mf">7.13</span><span class="p">,</span><span class="mf">7.04</span><span class="p">,</span><span class="mf">0.1106</span><span class="p">,</span><span class="mf">0.05609</span><span class="p">,</span><span class="mf">0.00217</span><span class="p">,</span><span class="mf">0.01389</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="simulation-database">
<h1>Simulation Database<a class="headerlink" href="#simulation-database" title="Link to this heading">#</a></h1>
<p>Utility for Financial Simulation in the Maxe context.</p>
<section id="persist-simulated-data">
<h2>Persist Simulated Data<a class="headerlink" href="#persist-simulated-data" title="Link to this heading">#</a></h2>
<p>When using the Maxe simulator to generate data from <code class="docutils literal notranslate"><span class="pre">.xml</span></code> config files or parameters, the data is typically discarded afterward. As simulations are run frequently throughout the project (e.g., generating training data, optimization, and calibration), and given that simulations can be resource-intensive, a more efficient solution is to save the simulated data for later use.</p>
<p>This repository provides a method to simulate data with given parameters, save the corresponding simulated data into hashed folders, and record the simulation information in a MongoDB database.</p>
</section>
<section id="manual">
<h2>Manual<a class="headerlink" href="#manual" title="Link to this heading">#</a></h2>
<section id="quick-start">
<h3>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading">#</a></h3>
<section id="setup-mongodb">
<h4>1. Setup MongoDB<a class="headerlink" href="#setup-mongodb" title="Link to this heading">#</a></h4>
<p>First, set up a MongoDB service and obtain the connection string, such as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mongodb://username:password@host:port/?directConnection<span class="o">=</span>true<span class="p">&amp;</span><span class="nv">authSource</span><span class="o">=</span>simulation
</pre></div>
</div>
<p>If you are a member of Prof. Yang’s team and have access to the School Intranet, you can connect to my MongoDB with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mongodb://maxe:maxe123456@10.16.12.105:27017/?directConnection<span class="o">=</span>true<span class="p">&amp;</span><span class="nv">authSource</span><span class="o">=</span>simulation
</pre></div>
</div>
</section>
<section id="customize-configuration">
<h4>2. Customize Configuration<a class="headerlink" href="#customize-configuration" title="Link to this heading">#</a></h4>
<p>Rename <code class="docutils literal notranslate"><span class="pre">config_template.json</span></code> to <code class="docutils literal notranslate"><span class="pre">config.json</span></code> and set the configurations as desired.</p>
</section>
<section id="build-maxe">
<h4>3. Build Maxe<a class="headerlink" href="#build-maxe" title="Link to this heading">#</a></h4>
<p>Build the Maxe Simulator on the machine where your project will run. Refer to the manual from the <code class="docutils literal notranslate"><span class="pre">Maxe</span></code> project for instructions.</p>
<p>It is recommended to create a symbolic link to the Simulator in <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code> to simplify calling <code class="docutils literal notranslate"><span class="pre">TheSimulator</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/abs/path/to/theSimulator<span class="w"> </span>/usr/bin/
</pre></div>
</div>
</section>
<section id="call-the-method">
<h4>4. Call the Method<a class="headerlink" href="#call-the-method" title="Link to this heading">#</a></h4>
<p>Import the methods and run them as described in the documentation.</p>
</section>
</section>
</section>
<section id="database">
<h2>Database<a class="headerlink" href="#database" title="Link to this heading">#</a></h2>
<section id="sample-of-the-document-in-the-collection">
<h3>Sample of the document in the Collection<a class="headerlink" href="#sample-of-the-document-in-the-collection" title="Link to this heading">#</a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;423a53c2dd02062bc53de05a449674b6&quot;</span><span class="p">,</span><span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">Hashed</span><span class="w"> </span><span class="err">parame</span><span class="kc">ters</span><span class="p">,</span><span class="w"> </span><span class="kc">t</span><span class="err">he</span><span class="w"> </span><span class="err">same</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="kc">t</span><span class="err">he</span><span class="w"> </span><span class="kc">f</span><span class="err">ile</span><span class="w"> </span><span class="kc">na</span><span class="err">me.</span>
<span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">                                   </span><span class="err">#</span><span class="w"> </span><span class="err">parame</span><span class="kc">ters</span><span class="w"> </span><span class="err">i</span><span class="kc">n</span><span class="w"> </span><span class="err">order</span>
<span class="w">    </span><span class="mf">193.32</span><span class="p">,</span><span class="w">                                     </span><span class="err">#</span><span class="w"> </span><span class="err">lambda_i</span><span class="kc">n</span><span class="err">i</span><span class="kc">t</span>
<span class="w">    </span><span class="mf">3.47</span><span class="p">,</span><span class="w">                                       </span><span class="err">#</span><span class="w"> </span><span class="err">clambda</span>
<span class="w">    </span><span class="mf">0.2962</span><span class="p">,</span><span class="w">                                     </span><span class="err">#</span><span class="w"> </span><span class="kc">fre</span><span class="err">que</span><span class="kc">n</span><span class="err">cy</span><span class="mi">1</span>
<span class="w">    </span><span class="mf">0.01853</span><span class="p">,</span><span class="w">                                    </span><span class="err">#</span><span class="w"> </span><span class="kc">fre</span><span class="err">que</span><span class="kc">n</span><span class="err">cy</span><span class="mi">2</span>
<span class="w">    </span><span class="mf">0.0015</span><span class="p">,</span><span class="w">                                     </span><span class="err">#</span><span class="w"> </span><span class="err">i</span><span class="kc">n</span><span class="err">creme</span><span class="kc">nt</span>
<span class="w">    </span><span class="mf">0.02909</span><span class="w">                                     </span><span class="err">#</span><span class="w"> </span><span class="err">del</span><span class="kc">ta</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;file_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dataset/simu_data/raw_csv/42/3a/423a53c2dd02062bc53de05a449674b6.csv&quot;</span><span class="p">,</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="kc">f</span><span class="err">ile_pa</span><span class="kc">t</span><span class="err">h</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;length&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4600</span><span class="p">,</span><span class="w">                               </span><span class="err">#</span><span class="w"> </span><span class="err">LOB</span><span class="w"> </span><span class="err">s</span><span class="kc">te</span><span class="err">ps</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">4600</span><span class="w"> </span><span class="kc">f</span><span class="err">or</span><span class="w"> </span><span class="err">calibra</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="p">,</span><span class="w"> </span><span class="mi">51000</span><span class="w"> </span><span class="kc">f</span><span class="err">or</span><span class="w"> </span><span class="kc">tra</span><span class="err">i</span><span class="kc">n</span><span class="err">i</span><span class="kc">n</span><span class="err">g</span>
<span class="w">  </span><span class="nt">&quot;create_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;$date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-07-13T19:47:31.323Z&quot;</span><span class="w">         </span><span class="err">#</span><span class="w"> </span><span class="err">Crea</span><span class="kc">te</span><span class="err">d</span><span class="w"> </span><span class="kc">t</span><span class="err">ime</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;update_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;$date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-07-13T19:47:31.323Z&quot;</span><span class="w">         </span><span class="err">#</span><span class="w"> </span><span class="err">Upda</span><span class="kc">te</span><span class="err">d</span><span class="w"> </span><span class="kc">t</span><span class="err">ime</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;random_seed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">                          </span><span class="err">#</span><span class="w"> </span><span class="err">ra</span><span class="kc">n</span><span class="err">dom_seed</span><span class="w"> </span><span class="err">used</span><span class="w"> </span><span class="kc">t</span><span class="err">o</span><span class="w"> </span><span class="err">ge</span><span class="kc">nerate</span><span class="w"> </span><span class="kc">t</span><span class="err">he</span><span class="w"> </span><span class="err">da</span><span class="kc">ta</span><span class="err">.</span>
<span class="w">  </span><span class="nt">&quot;has_raw_data&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">                          </span><span class="err">#</span><span class="w"> </span><span class="err">i</span><span class="kc">f</span><span class="w"> </span><span class="kc">t</span><span class="err">he</span><span class="w"> </span><span class="err">parame</span><span class="kc">ters</span><span class="w"> </span><span class="err">have</span><span class="w"> </span><span class="err">bee</span><span class="kc">n</span><span class="w"> </span><span class="err">used</span><span class="w"> </span><span class="kc">t</span><span class="err">o</span><span class="w"> </span><span class="err">ge</span><span class="kc">nerate</span><span class="err">d</span><span class="w"> </span><span class="err">da</span><span class="kc">ta</span><span class="err">.</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="machanism">
<h3>Machanism<a class="headerlink" href="#machanism" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Every time the generation method is called, the data will be saved to the database with the aformentioned information automatically.</p></li>
<li><p>When you want the raw data of some given parameters, the method will search the database first, if it has already been generated, the simulation process will instead by the data stored in the database.</p></li>
<li><p>Raw CSV data will be saved in the local machine instead of in the database for the sack of flexibilty and efficiency. Data could be retrived by the <code class="docutils literal notranslate"><span class="pre">file_path</span></code> attribute in the select result by <code class="docutils literal notranslate"><span class="pre">mongodb</span> <span class="pre">SQL</span> <span class="pre">query</span></code> or methods in <code class="docutils literal notranslate"><span class="pre">RawDataManager</span></code> class.</p></li>
</ul>
</section>
</section>
<section id="new-features">
<h2>New Features<a class="headerlink" href="#new-features" title="Link to this heading">#</a></h2>
<section id="data-generation">
<h3>1. Data Generation<a class="headerlink" href="#data-generation" title="Link to this heading">#</a></h3>
<p>All temporary files in the Maxe simulation process are generated in memory, not on disk. This accelerates the simulation and avoids errors caused by disk write delays. Temporary visual files have randomly hashed names to prevent read/write errors associated with physical file systems.</p>
</section>
<section id="logging">
<h3>2. Logging<a class="headerlink" href="#logging" title="Link to this heading">#</a></h3>
<p>The logger can save output throughout the project, making it easier to review your experiments later. This feature enhances convenience and ensures you have a comprehensive record of your simulation runs.</p>
</section>
<section id="id10">
<h3>3. Database<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<p>The database persists the generated simulation data, ensuring that no data is wasted. This stored data can be reused in future work, such as training surrogate models or conducting simulation-based inference.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Calibration"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="2.EnvPrepare.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">项目介绍</p>
      </div>
    </a>
    <a class="right-next"
       href="4.NewLOB.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">NewLOB模型</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">数据准备</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">金融数据（限价订单簿）</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">金融数据格式说明</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">列说明</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">数据示例</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">仿真数据</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#xml">XML配置文件</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">训练数据准备</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">批量生成仿真数据</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#simulation-database">Simulation Database</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#persist-simulated-data">Persist Simulated Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manual">Manual</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-start">Quick Start</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-mongodb">1. Setup MongoDB</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#customize-configuration">2. Customize Configuration</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#build-maxe">3. Build Maxe</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#call-the-method">4. Call the Method</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#database">Database</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-of-the-document-in-the-collection">Sample of the document in the Collection</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#machanism">Machanism</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-features">New Features</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-generation">1. Data Generation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logging">2. Logging</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">3. Database</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mythezone
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>